var $e=Object.defineProperty,De=Object.defineProperties;var Re=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var se=(e,s,o)=>s in e?$e(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o,U=(e,s)=>{for(var o in s||(s={}))ne.call(s,o)&&se(e,o,s[o]);if(F)for(var o of F(s))ae.call(s,o)&&se(e,o,s[o]);return e},J=(e,s)=>De(e,Re(s));var re=(e,s)=>{var o={};for(var t in e)ne.call(e,t)&&s.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&F)for(var t of F(e))s.indexOf(t)<0&&ae.call(e,t)&&(o[t]=e[t]);return o};var le=(e,s,o)=>new Promise((t,n)=>{var a=i=>{try{l(o.next(i))}catch(p){n(p)}},r=i=>{try{l(o.throw(i))}catch(p){n(p)}},l=i=>i.done?t(i.value):Promise.resolve(i.value).then(a,r);l((o=o.apply(e,s)).next())});import{e as fe,r as w,m as he,i as ze,h as Ie,a as pe,w as Ae,b as Ne,c as V,d as _e,t as Ve,g as Be,o as Me,n as Oe,f as Fe,j as X,k as E,l as Ue,p as Ge,_ as K,u as Te,q as g,s as S,v as c,x as m,y as H,z as He,A as T,B as We,C as d,T as qe,D as L,E as k,F as ce,G as me,H as B,I as Y,J as Je,K as ge,L as Ke,M as Ye,N as Ze,O as Qe,P as Xe,Q as et,R as tt,S as ot,U as st,V as nt,W as at,X as rt,Y as lt,Z as ct,$ as it}from"./frappe-ui.7c282ee9.js";const ut=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}};ut();/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let ye;const W=e=>ye=e,ve=Symbol();function Z(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var N;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(N||(N={}));function dt(){const e=fe(!0),s=e.run(()=>w({}));let o=[],t=[];const n=he({install(a){W(n),n._a=a,a.provide(ve,n),a.config.globalProperties.$pinia=n,t.forEach(r=>o.push(r)),t=[]},use(a){return!this._a&&!ze?t.push(a):o.push(a),this},_p:o,_a:null,_e:e,_s:new Map,state:s});return n}const be=()=>{};function ie(e,s,o,t=be){e.push(s);const n=()=>{const a=e.indexOf(s);a>-1&&(e.splice(a,1),t())};return!o&&Be()&&Me(n),n}function R(e,...s){e.slice().forEach(o=>{o(...s)})}const ft=e=>e();function Q(e,s){e instanceof Map&&s instanceof Map&&s.forEach((o,t)=>e.set(t,o)),e instanceof Set&&s instanceof Set&&s.forEach(e.add,e);for(const o in s){if(!s.hasOwnProperty(o))continue;const t=s[o],n=e[o];Z(n)&&Z(t)&&e.hasOwnProperty(o)&&!V(t)&&!_e(t)?e[o]=Q(n,t):e[o]=t}return e}const ht=Symbol();function pt(e){return!Z(e)||!e.hasOwnProperty(ht)}const{assign:C}=Object;function _t(e){return!!(V(e)&&e.effect)}function mt(e,s,o,t){const{state:n,actions:a,getters:r}=s,l=o.state.value[e];let i;function p(){l||(o.state.value[e]=n?n():{});const u=Fe(o.state.value[e]);return C(u,a,Object.keys(r||{}).reduce((v,_)=>(v[_]=he(X(()=>{W(o);const $=o._s.get(e);return r[_].call($,$)})),v),{}))}return i=xe(e,p,s,o,t,!0),i}function xe(e,s,o={},t,n,a){let r;const l=C({actions:{}},o),i={deep:!0};let p,u,v=[],_=[],$;const D=t.state.value[e];!a&&!D&&(t.state.value[e]={}),w({});let te;function oe(h){let f;p=u=!1,typeof h=="function"?(h(t.state.value[e]),f={type:N.patchFunction,storeId:e,events:$}):(Q(t.state.value[e],h),f={type:N.patchObject,payload:h,storeId:e,events:$});const x=te=Symbol();Oe().then(()=>{te===x&&(p=!0)}),u=!0,R(v,f,t.state.value[e])}const Se=a?function(){const{state:f}=o,x=f?f():{};this.$patch(P=>{C(P,x)})}:be;function Ce(){r.stop(),v=[],_=[],t._s.delete(e)}function Ee(h,f){return function(){W(t);const x=Array.from(arguments),P=[],I=[];function Pe(y){P.push(y)}function je(y){I.push(y)}R(_,{args:x,name:h,store:b,after:Pe,onError:je});let A;try{A=f.apply(this&&this.$id===e?this:b,x)}catch(y){throw R(I,y),y}return A instanceof Promise?A.then(y=>(R(P,y),y)).catch(y=>(R(I,y),Promise.reject(y))):(R(P,A),A)}}const Le={_p:t,$id:e,$onAction:ie.bind(null,_),$patch:oe,$reset:Se,$subscribe(h,f={}){const x=ie(v,h,f.detached,()=>P()),P=r.run(()=>Ae(()=>t.state.value[e],I=>{(f.flush==="sync"?u:p)&&h({storeId:e,type:N.direct,events:$},I)},C({},i,f)));return x},$dispose:Ce},b=Ne(Le);t._s.set(e,b);const z=(t._a&&t._a.runWithContext||ft)(()=>t._e.run(()=>(r=fe()).run(s)));for(const h in z){const f=z[h];if(V(f)&&!_t(f)||_e(f))a||(D&&pt(f)&&(V(f)?f.value=D[h]:Q(f,D[h])),t.state.value[e][h]=f);else if(typeof f=="function"){const x=Ee(h,f);z[h]=x,l.actions[h]=f}}return C(b,z),C(Ve(b),z),Object.defineProperty(b,"$state",{get:()=>t.state.value[e],set:h=>{oe(f=>{C(f,h)})}}),t._p.forEach(h=>{C(b,r.run(()=>h({store:b,app:t._a,pinia:t,options:l})))}),D&&a&&o.hydrate&&o.hydrate(b.$state,D),p=!0,u=!0,b}function q(e,s,o){let t,n;const a=typeof s=="function";typeof e=="string"?(t=e,n=a?o:s):(n=e,t=e.id);function r(l,i){const p=Ie();return l=l||(p?pe(ve,null):null),l&&W(l),l=ye,l._s.has(t)||(a?xe(t,s,n,l):mt(t,n,l)),l._s.get(t)}return r.$id=t,r}const ee=q("education-users",()=>({user:E({url:"education.education.api.get_user_info",cache:"User",initialData:[],onError(s){console.log(s),console.log(s.exc_type),s&&s.exc_type==="AuthenticationError"&&M.push("/login")}})})),we=q("zana-education-student",()=>{const e=w({}),s=w({}),o=w([]),t=w([]),n=w([]),a=E({url:"zana_education.zana_education.api.get_zana_student_info",method:"GET",params:()=>({student_name:e.value}),auto:!1,onSuccess(u){u||(window.location.href="/app"),delete u.current_program,s.value=u},onError(u){console.error(u)}}),r=E({url:"zana_education.zana_education.api.get_course_schedule_for_zana_student",method:"GET",params:()=>({student_name:e.value}),auto:!1,onSuccess:u=>{let v=[];u.forEach(_=>{v.push({title:_.title,with:_.instructor,name:_.name,room:_.room,date:_.schedule_date,from_time:_.from_time.split(".")[0],to_time:_.to_time.split(".")[0],color:_.class_schedule_color})}),t.value=v}}),l=E({url:"zana_education.zana_education.api.get_enrolled_courses_for_student",method:"GET",params:()=>({student_name:e.value}),auto:!1,onSuccess:u=>{n.value=u}});function i(u){e.value=u,a.reload({student_name:u}),r.reload({student_name:u}),l.reload({student_name:u})}function p(){return s}return{student:a,studentScheduleResource:r,studentEnrolledCourses:n,studentEnrolledCoursesResourse:l,studentSchedule:t,loadStudent:i,studentInfo:s,studentGroups:o,getStudentInfo:p}}),ke=q("education-session",()=>{const{user:e}=ee(),{student:s}=we();function o(){let i=new URLSearchParams(document.cookie.split("; ").join("&")).get("user_id");return i==="Guest"&&(i=null),i}let t=w(o());const n=X(()=>!!t.value),a=E({url:"login",onError(){throw new Error("Invalid email or password")},onSuccess(){e.reload(),o.reload(),s.reload(),t.value=o(),a.reset(),M.replace({path:"/"})}}),r=E({url:"logout",onSuccess(){t.value=null,window.location.href="/login"}});return{user:t,isLoggedIn:n,login:a,logout:r}}),gt=q("zana-education-guardian",()=>{const e=w({}),s=E({url:"zana_education.zana_education.api.get_guardian_info",onSuccess(t){t||(window.location.href="/app"),e.value=t},onError(t){console.error(t)}});function o(){return e}return{guardian:s,guardianInfo:e,getGuardianInfo:o}}),yt=[{path:"/",redirect:"/my-students"},{path:"/my-students",name:"My Students",component:()=>K(()=>import("./MyStudents.5f669dfa.js"),["assets/MyStudents.5f669dfa.js","assets/frappe-ui.7c282ee9.js","assets/frappe-ui.005832b0.css"])},{path:"/student/:student_name",name:"Student Detail",component:()=>K(()=>import("./Student.134f9ea2.js"),["assets/Student.134f9ea2.js","assets/frappe-ui.7c282ee9.js","assets/frappe-ui.005832b0.css","assets/index.17f95304.js"]),props:!0},{path:"/fees",name:"Total Fees",component:()=>K(()=>import("./Fees.a29f22d9.js"),["assets/Fees.a29f22d9.js","assets/frappe-ui.7c282ee9.js","assets/frappe-ui.005832b0.css","assets/index.17f95304.js"])},{path:"/:catchAll(.*)",redirect:"/schedule"}];let M=Ue({history:Ge("/parent-portal"),routes:yt});M.beforeEach((e,s)=>le(void 0,null,function*(){const{isLoggedIn:o,user:t}=ke(),{user:n}=ee(),{guardian:a}=gt();if(!o)return window.location.href="/login",yield next(!1);n.data.length===0&&(yield n.reload()),yield a.reload()}));const vt={class:"grid h-5 w-6 flex-shrink-0 place-items-center"},ue={__name:"SidebarLink",props:{icon:{type:Function},label:{type:String,default:""},to:{type:String,default:""},isCollapsed:{type:Boolean,default:!1}},setup(e){const s=Te(),o=e;function t(){s.push(o.to)}let n=X(()=>s.currentRoute.value.path===o.to);return(a,r)=>(g(),S("button",{class:L(["flex h-7 cursor-pointer items-center rounded text-gray-800 duration-300 ease-in-out focus:outline-none focus:transition-none focus-visible:rounded focus-visible:ring-2 focus-visible:ring-gray-400",d(n)?"bg-white shadow-sm":"hover:bg-gray-100"]),onClick:t},[c("div",{class:L(["flex items-center duration-300 ease-in-out",e.isCollapsed?"p-1":"px-2 py-1"])},[m(d(qe),{text:e.label,placement:"right"},{default:H(()=>[He(a.$slots,"icon",{},()=>[c("span",vt,[(g(),T(We(e.icon),{class:"h-4.5 w-4.5 text-gray-700"}))])])]),_:3},8,["text"]),c("span",{class:L(["flex-shrink-0 text-base duration-300 ease-in-out",e.isCollapsed?"ml-0 w-0 overflow-hidden opacity-0":"ml-2 w-auto opacity-100"])},k(e.label),3)],2)],2))}};var G={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const bt=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O=(e,s)=>(p,{attrs:l,slots:i})=>{var u=p,{size:o,strokeWidth:t=2,absoluteStrokeWidth:n,color:a}=u,r=re(u,["size","strokeWidth","absoluteStrokeWidth","color"]);return ce("svg",U(J(U(J(U({},G),{width:o||G.width,height:o||G.height,stroke:a||G.stroke,"stroke-width":n?Number(t)*24/Number(o):t}),l),{class:["lucide",`lucide-${bt(e)}`,(l==null?void 0:l.class)||""]}),r),[...s.map(v=>ce(...v)),...i.default?[i.default()]:[]])},xt=O("ArrowLeftToLineIcon",[["path",{d:"M3 19V5",key:"rwsyhb"}],["path",{d:"m13 6-6 6 6 6",key:"1yhaz7"}],["path",{d:"M7 12h14",key:"uoisry"}]]),wt=O("BanknoteIcon",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),kt=O("LayoutDashboardIcon",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),St=O("SchoolIcon",[["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]),de=O("UserCheckIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Ct={class:"text-base"},Et={class:"flex flex-col gap-4"},Lt={class:"flex items-center border-b border-solid border-lightGray pb-4 gap-2"},Pt={class:"flex flex-col ml-2 gap-1"},jt={class:"text-lg font-semibold"},$t={class:"text-gray-600"},Dt={class:"flex gap-4"},Rt={key:0,class:"flex items-center"},zt={class:"w-1/2 text-sm text-gray-600"},It={class:"w-1/2 text-gray-900"},At={class:"flex items-center"},Nt={class:"w-[32%] text-sm text-gray-600"},Vt={class:"w-full text-gray-900"},Bt={class:"flex items-center bg-gray-50 p-2 text-gray-600 text-sm rounded-md"},Mt={__name:"ProfileModal",setup(e){const{getStudentInfo:s}=we(),o=pe("showProfileDialog"),t=s().value,n=[{section:"section 1",fields:[{label:"Mobile Number",value:t.student_mobile_number},{label:"Joining Date",value:t.joining_date},{label:"Date of Birth",value:t.date_of_birth},{label:"Address",value:[t==null?void 0:t.address_line_1,t==null?void 0:t.address_line_2,t==null?void 0:t.city,t==null?void 0:t.pincode,t==null?void 0:t.state,t==null?void 0:t.country].map(a=>a==null?void 0:a.trim()).filter(Boolean).join(", ")}]},{section:"section 2",fields:[{label:"Blood Group",value:t.blood_group},{label:"Gender",value:t.gender},{label:"Nationality",value:t.nationality}]}];return(a,r)=>(g(),T(d(Ye),{modelValue:d(o),"onUpdate:modelValue":r[0]||(r[0]=l=>V(o)?o.value=l:null),options:{title:"Profile",size:"xl"}},{"body-content":H(()=>[c("div",Ct,[c("div",Et,[c("div",Lt,[m(d(me),{size:"3xl",class:"h-12 w-12",label:d(t).student_name,image:d(t).image||null},null,8,["label","image"]),c("div",Pt,[c("p",jt,k(d(t).student_name),1),c("p",$t,k(d(t).student_email_id),1)])]),c("div",null,[c("div",Dt,[(g(),S(B,null,Y(n,l=>c("div",{key:l.section,class:"flex-1 flex flex-col gap-4"},[(g(!0),S(B,null,Y(l.fields,i=>(g(),S("div",{key:i.label},[i.label!=="Address"?(g(),S("div",Rt,[c("p",zt,k(i.label)+":\xA0 ",1),c("p",It,k(i.value),1)])):Je("",!0)]))),128))])),64))]),c("div",At,[c("p",Nt,k(n[0].fields[3].label)+":\xA0 ",1),c("p",Vt,k(n[0].fields[3].value),1)])]),c("div",Bt,[m(d(ge),{name:"info",class:"h-4 mr-2"}),Ke(" In case of any incorrect details, please contact the school admin. ")])])])]),_:1},8,["modelValue"]))}},Ot={class:"w-8 h-8 rounded-full flex items-center justify-center"},Ft={class:"text-base font-medium text-gray-900 leading-none"},Ut={class:"mt-1 text-sm text-gray-700 leading-none"},Gt=Object.assign({inheritAttrs:!1},{__name:"UserDropdown",props:{isCollapsed:{type:Boolean,default:!1},educationSettings:{}},setup(e){const{user:s}=ee(),{logout:o}=ke(),t=w(!1);Ze("showProfileDialog",t);const n=[{icon:"user",label:"Profile",onClick:()=>t.value=!0},{icon:"log-out",label:"Log out",onClick:()=>o.submit()}];return(a,r)=>(g(),S(B,null,[m(d(Qe),{options:n,class:"p-2"},{default:H(({open:l})=>{var i,p,u;return[c("button",{class:L(["flex h-12 py-2 items-center rounded-md duration-300 ease-in-out",e.isCollapsed?"px-0 w-auto":l?"bg-white shadow-sm px-2 w-52":"hover:bg-gray-200 px-2 w-52"])},[c("div",Ot,[(i=e.educationSettings)!=null&&i.logo?(g(),T(d(me),{key:0,image:(p=e.educationSettings)==null?void 0:p.logo,shape:"circle",size:"xl"},null,8,["image"])):(g(),T(d(St),{key:1}))]),c("div",{class:L(["flex flex-1 flex-col text-left duration-300 ease-in-out",e.isCollapsed?"opacity-0 ml-0 w-0 overflow-hidden":"opacity-100 ml-2 w-auto"])},[c("div",Ft,k(((u=e.educationSettings)==null?void 0:u.name)||"Education"),1),c("div",Ut,k(d(s).data.full_name),1)],2),c("div",{class:L(["duration-300 ease-in-out",e.isCollapsed?"opacity-0 ml-0 w-0 overflow-hidden":"opacity-100 ml-2 w-auto"])},[m(d(ge),{name:"chevron-down",class:"h-4 w-4 text-gray-600","aria-hidden":"true"})],2)],2)]}),_:1}),m(Mt)],64))}}),Tt={class:"flex flex-col overflow-hidden"},Ht={class:"flex flex-col overflow-y-auto"},Wt={class:"grid h-5 w-6 flex-shrink-0 place-items-center"},qt={__name:"Sidebar",setup(e){const s=[{label:"My Students",to:"/my-students",icon:kt},{label:"Total Fees",to:"/fees",icon:wt},{label:"Notifications",to:"/notifications",icon:de},{label:"Anouncements",to:"/anouncements",icon:de}],o=Xe("sidebar_is_collapsed",!1),t=E({url:"education.education.api.get_school_abbr_logo",auto:!0});return(n,a)=>(g(),S("div",{class:L(["flex h-full flex-col justify-between transition-all duration-300 ease-in-out",d(o)?"w-12":"w-56"])},[c("div",Tt,[m(Gt,{class:"p-2",isCollapsed:d(o),educationSettings:!d(t).loading&&d(t).data},null,8,["isCollapsed","educationSettings"]),c("div",Ht,[(g(),S(B,null,Y(s,r=>m(ue,{label:r.label,to:r.to,isCollapsed:d(o),icon:r.icon,class:"mx-2 my-0.5"},null,8,["label","to","isCollapsed","icon"])),64))])]),m(ue,{label:d(o)?"Expand":"Collapse",isCollapsed:d(o),onClick:a[0]||(a[0]=r=>o.value=!d(o)),class:"m-2"},{icon:H(()=>[c("span",Wt,[m(d(xt),{class:L(["h-4.5 w-4.5 text-gray-700 duration-300 ease-in-out",{"[transform:rotateY(180deg)]":d(o)}])},null,8,["class"])])]),_:1},8,["label","isCollapsed"])],2))}},Jt={class:"flex h-screen w-screen"},Kt={class:"h-full border-r bg-gray-50"},Yt={class:"flex-1 flex flex-col h-full overflow-auto"},Zt={__name:"App",setup(e){return(s,o)=>{const t=et("Navbar");return g(),S(B,null,[c("div",null,[c("div",Jt,[c("div",Kt,[m(qt)]),c("div",Yt,[m(t),m(d(tt),{class:"flex-1 overflow-auto"})])])]),m(d(ot))],64)}}};let Qt=dt(),j=st(Zt);ct("resourceFetcher",it);j.use(Qt);j.use(M);j.use(nt);j.component("Button",at);j.component("Card",rt);j.component("Input",lt);M.isReady().then(()=>{j.mount("#app")});export{gt as g,we as s};
