import{q as t,A as T,y as P,v as e,D as y,C as n,x as i,K as p,E as l,s,J as b,a0 as j,r as M,j as F,W as N,H as w,I as D,a1 as q,Q as S}from"./frappe-ui.7c282ee9.js";import{s as A}from"./index.f7ba6e79.js";import{g as B,a as L}from"./index.17f95304.js";const O=["onClick"],R={class:"flex flex-col whitespace-nowrap w-fit overflow-hidden"},E={class:"font-medium text-sm text-gray-800 text-ellipsis"},V={key:0,class:"font-normal text-xs text-gray-800 text-ellipsis"},Y={class:"flex flex-col gap-5 pt-5 px-6 pb-6"},z={class:"font-semibold text-xl"},W={class:"flex flex-col gap-4"},H={class:"flex gap-2 items-center"},K={class:"text-sm font-normal"},Q={key:0,class:"flex gap-2 items-center"},G={class:"text-sm font-normal"},U={key:1,class:"flex gap-2 items-center"},X={class:"text-sm font-normal"},Z={key:2,class:"flex gap-2 items-center"},ee={class:"text-sm font-normal"},te={class:"flex gap-3 relative px-2 items-start"},oe={class:"flex flex-col whitespace-nowrap w-fit overflow-hidden"},se={class:"font-medium text-sm text-gray-800 text-ellipsis"},ne={key:0,class:"font-normal text-xs text-gray-800 text-ellipsis"},re={__name:"CalendarEvent",props:{event:{type:Object,required:!0},date:{type:Date,required:!0}},setup(o){const u=o;let a={blue:{background_color:"bg-blue-100",border_color:"border-blue-600"},green:{background_color:"bg-green-100",border_color:"border-green-600"},red:{background_color:"bg-red-100",border_color:"border-red-600"},orange:{background_color:"bg-orange-100",border_color:"border-orange-600"},yellow:{background_color:"bg-yellow-100",border_color:"border-yellow-600"},teal:{background_color:"bg-teal-100",border_color:"border-teal-600"},violet:{background_color:"bg-violet-100",border_color:"border-violet-600"},cyan:{background_color:"bg-cyan-100",border_color:"border-cyan-600"},purple:{background_color:"bg-purple-100",border_color:"border-purple-600"},pink:{background_color:"bg-pink-100",border_color:"border-pink-600"},amber:{background_color:"bg-amber-100",border_color:"border-amber-600"}};function _(){let r=u.date.toDateString().split(" ").slice(0,3),m=r[0],d=r[1]+" "+r[2];return`${m}, ${d}`}return(r,m)=>o.event.status?(t(),s("div",{key:1,class:y(["w-full p-2 rounded-md",o.event.background_color||"bg-green-100"]),onClick:m[0]||(m[0]=(...d)=>r.togglePopover&&r.togglePopover(...d))},[e("div",te,[i(n(p),{name:"circle",class:"h-4 text-black"}),e("div",oe,[e("p",se,l(o.event.title),1),o.event.from_time?(t(),s("p",ne,l(o.event.from_time)+" - "+l(o.event.to_time),1)):b("",!0)])])],2)):(t(),T(n(j),{key:0,placement:"right"},{target:P(({togglePopover:d})=>{var k,f,g,x;return[e("div",{class:y(["w-full p-2 rounded-lg",((f=n(a)[(k=o.event)==null?void 0:k.color])==null?void 0:f.background_color)||"bg-green-100"]),onClick:d},[e("div",{class:y(["flex gap-3 relative px-2 items-start",o.event.from_time&&["border-l-2",((x=n(a)[(g=o.event)==null?void 0:g.color])==null?void 0:x.border_color)||"border-green-600"]])},[i(n(p),{name:"circle",class:"h-4 text-black"}),e("div",R,[e("p",E,l(o.event.title),1),o.event.from_time?(t(),s("p",V,l(o.event.from_time)+" - "+l(o.event.to_time),1)):b("",!0)])],2)],10,O)]}),"body-main":P(()=>[e("div",Y,[e("div",z,l(o.event.title),1),e("div",W,[e("div",H,[i(n(p),{name:"calendar",class:"h-4 w-4"}),e("span",K,l(_()),1)]),o.event.with?(t(),s("div",Q,[i(n(p),{name:"user",class:"h-4 w-4"}),e("span",G,l(o.event.with),1)])):b("",!0),o.event.from_time&&o.event.to_time?(t(),s("div",U,[i(n(p),{name:"clock",class:"h-4 w-4"}),e("span",X,l(o.event.from_time)+" - "+l(o.event.to_time),1)])):b("",!0),o.event.room?(t(),s("div",Z,[i(n(p),{name:"circle",class:"h-4 w-4"}),e("span",ee," Room No: \xA0 "+l(o.event.room),1)])):b("",!0)])])]),_:1}))}},le={class:"p-5 h-full"},ae={class:"flex justify-between mb-2"},ce={class:"text-xl font-medium"},de={class:"flex gap-x-1"},ie={class:"h-[92%] min-h-[600px] min-w-[600px]"},ue={class:"grid grid-cols-7 w-full pb-2"},_e={class:"text-center text-gray-600 font-normal text-sm"},me={class:"grid grid-cols-7 border-t-[1px] border-l-[1px] h-full w-full grid-rows-6"},ve={class:"border-r-[1px] border-b-[1px] border-gray-200"},be={key:0,class:"relative flex flex-col items-center w-full overflow-y-auto"},he={class:"w-full"},fe={key:1},ge={__name:"Calendar",props:{events:{type:Object,required:!1}},setup(o){const u=o;let a=M(new Date().getMonth()),_=M(new Date().getFullYear()),r=["January","February","March","April","May","June","July","August","September","October","November","December"],m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],k=F(()=>B(a.value,_.value)),f=F(()=>L(u.events,v=>v.date));function g(v){let $=v.getDate(),c=v.getMonth()+1,C=v.getFullYear();return $<10&&($="0"+$),c<10&&(c="0"+c),`${C}-${c}-${$}`}function x(){return r[a.value]}function h(){a.value++,a.value>11&&(a.value=0,_.value++)}function I(){a.value--,a.value<0&&(a.value=11,_.value--)}function J(v){return v.getMonth()===a.value}return(v,$)=>(t(),s("div",le,[e("div",ae,[e("span",ce,l(x()+", "+n(_)),1),e("div",de,[i(n(N),{onClick:I,variant:"ghost",class:"h-4 w-4",icon:"chevron-left"}),i(n(N),{onClick:h,variant:"ghost",class:"h-4 w-4",icon:"chevron-right"})])]),e("div",ie,[e("div",ue,[(t(!0),s(w,null,D(n(d),c=>(t(),s("span",_e,l(c),1))),256))]),e("div",me,[(t(!0),s(w,null,D(n(k),c=>(t(),s("div",ve,[e("div",{class:y(["flex justify-center h-full font-normal mx-2",J(c)?"text-gray-500":"text-gray-200"])},[J(c)?(t(),s("div",be,[e("span",{class:y(["py-1 sticky top-0 bg-white w-full text-center z-10",c.toDateString()===new Date().toDateString()&&"font-bold"])},l(c.getDate()),3),e("div",he,[(t(!0),s(w,null,D(n(f)[g(c)],C=>(t(),T(re,{event:C,date:c,class:"mb-2 cursor-pointer w-full",draggable:!1,key:C.name},null,8,["event","date"]))),128))])])):(t(),s("span",fe,l(n(m)[c.getMonth()]+" "+c.getDate()),1))],2)]))),256))])])]))}},xe={class:"w-full h-full"},pe={__name:"ScheduleTab",setup(o){const u=A();return(a,_)=>(t(),s("div",xe,[!n(u).studentScheduleResource.loading&&n(u).studentScheduleResource.data?(t(),T(ge,{key:0,events:n(u).studentSchedule},null,8,["events"])):b("",!0)]))}},ye={class:"row"},ke={class:"col-md-6"},$e={class:"card mb-4 shadow-sm"},we={class:"card-body"},De={__name:"CoursesTab",setup(o){const u=A();return(a,_)=>(t(),s("div",ye,[e("div",ke,[e("div",$e,[e("div",we,[(t(!0),s(w,null,D(n(u).studentEnrolledCourses,(r,m)=>(t(),s("div",{key:m},l(r.course),1))),128))])])])]))}},Ce={class:"p-6"},Se={key:0},Me={class:"text-2xl font-bold"},Te={class:"p-6"},Ae={class:"flex space-x-4 border-b mb-4"},Ie=["onClick"],Je={key:0},Pe={key:1},Fe={key:2},Ne={key:3},je={key:4},Oe={__name:"Student",setup(o){const u=q(),a=A(),_=["Schedule","Courses","Payment Due","Invoices","Attendance"],r=M(u.query.tab||"Schedule");function m(d){r.value=d}return a.loadStudent(u.params.student_name),(d,k)=>{const f=S("PaymentDueTab"),g=S("InvoicesTab"),x=S("AttendanceTab");return t(),s("div",Ce,[n(a).studentInfo?(t(),s("div",Se,[e("h1",Me,l(n(a).studentInfo.customer),1),e("div",Te,[e("div",Ae,[(t(),s(w,null,D(_,h=>e("button",{key:h,onClick:I=>m(h),class:y(["py-2 px-4 border-b-2",{"border-blue-600 text-blue-600 font-semibold":r.value===h,"border-transparent text-gray-600 hover:text-black":r.value!==h}])},l(h),11,Ie)),64))]),r.value==="Schedule"?(t(),s("div",Je,[i(pe)])):r.value==="Courses"?(t(),s("div",Pe,[i(De)])):r.value==="Payment Due"?(t(),s("div",Fe,[i(f,{student:d.studentInfo},null,8,["student"])])):r.value==="Invoices"?(t(),s("div",Ne,[i(g,{student:d.studentInfo},null,8,["student"])])):r.value==="Attendance"?(t(),s("div",je,[i(x,{student:d.studentInfo},null,8,["student"])])):b("",!0)])])):b("",!0)])}}};export{Oe as default};
